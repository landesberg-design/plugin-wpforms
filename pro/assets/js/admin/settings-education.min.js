"use strict";var WPFormsSettingsEducation=window.WPFormsSettingsEducation||function(n,o,i){var e={init:function(){i(e.ready)},ready:function(){e.events()},events:function(){e.clickEvents()},clickEvents:function(){i(n).on("click",".wpforms-settings-provider.education-modal",function(n){var t=i(this);switch(n.preventDefault(),n.stopImmediatePropagation(),t.data("action")){case"activate":e.activateModal(t.data("name"),t.data("path"));break;case"install":e.installModal(t.data("name"),t.data("url"),t.data("license"));break;case"upgrade":e.upgradeModal(t.data("name"),"",t.data("license"));break;case"license":e.licenseModal()}})},activateModal:function(n,t){i.alert({title:!1,content:wpforms_admin.education_activate_prompt.replace(/%name%/g,n),icon:"fa fa-info-circle",type:"blue",buttons:{confirm:{text:wpforms_admin.education_activate_confirm,btnClass:"btn-confirm",keys:["enter"],action:function(){return this.$body.find(".btn-confirm").prop("disabled",!0).html('<i class="fa fa-circle-o-notch fa-spin fa-fw"></i> '+wpforms_admin.education_activating),e.activateAddon(t,wpforms_admin.nonce,this),!1}},cancel:{text:wpforms_admin.cancel}}})},activateAddon:function(n,t,a){i.post(wpforms_admin.ajax_url,{action:"wpforms_activate_addon",nonce:t,plugin:n},function(n){a.close(),n.success?e.saveModal():i.alert({title:!1,content:n.data,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_admin.close,btnClass:"btn-confirm",keys:["enter"]}}})})},saveModal:function(n){n=n||wpforms_admin.education_activated,i.alert({title:n.replace(/\.$/,""),content:wpforms_admin.education_save_prompt,icon:"fa fa-check-circle",type:"green",buttons:{confirm:{text:wpforms_admin.education_save_confirm,btnClass:"btn-confirm",keys:["enter"],action:function(){o.location=o.location}},cancel:{text:wpforms_admin.close}}})},installModal:function(n,t,a){t&&""!==t?i.alert({title:!1,content:wpforms_admin.education_install_prompt.replace(/%name%/g,n),icon:"fa fa-info-circle",type:"blue",boxWidth:"425px",buttons:{confirm:{text:wpforms_admin.education_install_confirm,btnClass:"btn-confirm",keys:["enter"],isHidden:!wpforms_admin.can_install_addons,action:function(){return this.$body.find(".btn-confirm").prop("disabled",!0).html('<i class="fa fa-circle-o-notch fa-spin fa-fw"></i> '+wpforms_admin.education_installing),e.installAddon(t,wpforms_admin.nonce,this),!1}},cancel:{text:wpforms_admin.cancel}}}):e.upgradeModal(n,"",a)},installAddon:function(n,t,a){i.post(wpforms_admin.ajax_url,{action:"wpforms_install_addon",nonce:t,plugin:n},function(n){var t;a.close(),n.success?e.saveModal(n.data.msg):(t=n.data,"object"==typeof n.data&&(t=wpforms_admin.addon_error),i.alert({title:!1,content:t,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_admin.close,btnClass:"btn-confirm",keys:["enter"]}}}))})},upgradeModal:function(n,t,a){var e;void 0!==a&&0!==a.length||(a="pro"),i.inArray(a,["pro","elite"])<0||(e=n+" "+wpforms_admin.education_upgrade[a].title,t&&(e=t+" "+wpforms_admin.education_upgrade[a].title),i.alert({title:e,icon:"fa fa-lock",content:wpforms_admin.education_upgrade[a].message.replace(/%name%/g,n),boxWidth:"550px",onOpenBefore:function(){this.$body.find(".jconfirm-content").addClass("lite-upgrade")},buttons:{confirm:{text:wpforms_admin.education_upgrade[a].confirm,btnClass:"btn-confirm",keys:["enter"],action:function(){o.open(wpforms_admin.education_upgrade[a].url+"&utm_content="+encodeURIComponent(n.trim()),"_blank")}}}}))},licenseModal:function(){i.alert({title:!1,content:wpforms_admin.education_license_prompt,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_admin.close,btnClass:"btn-confirm",keys:["enter"]}}})}};return e}(document,window,jQuery);WPFormsSettingsEducation.init();